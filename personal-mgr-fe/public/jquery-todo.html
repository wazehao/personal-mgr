<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1.0">
    <link rel="icon" href="<%= BASE_URL %>favicon.ico">
    <title>JQuery ToDo</title>
    <style>
        .done {
            text-decoration: line-through; /* 删除线 */
            color: #eee;
        }
        li {
            cursor: pointer;
        }
    </style>
  </head>
  <body>
    <input type="text" class="input">
    <p>列表：</p>
    <ul></ul>

    <script src="https://cdn.bootcdn.net/ajax/libs/jquery/3.6.0/jquery.js"></script>
    <script>
        var $input = $('.input'); // 获取到input的类
        var $ul = $('ul'); // 获取到ul

        // 键盘弹起的时候响应函数
        $input.keyup(function(e) {
            var keyCode = e.keyCode; // 获取到当前点击键盘的值
            if(keyCode !== 13) return; // 按的不是13的时候返回空
            $ul.append('<li>' + $input.val() + '</li>');
            $input.val(''); //置空对应的元素内容
        });

        // 事件代理，本质上是事件冒泡， click点击事件
        $ul.on('click', 'li', function(){ // $(this)，表示当前选中的元素
            $(this).toggleClass('done'); // 对被选元素的类进行切换
        })
        // 事件代理，本质上是事件冒泡， contextmenu是属于右键点击事件，控制菜单
        $ul.on('contextmenu', 'li', function(e){ // $(this)，表示当前选中的元素
            e.preventDefault(); // 右键点击的时候禁止弹出菜单
            $(this).remove(); // 对被选元素的类进行切换
        })
    </script>
  </body>
</html>
